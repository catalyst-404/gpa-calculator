<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GPA Calculator</title>
    <style>
      :root {
        --bg: #111111;
        --text: #f8f8f8;
        --bg-secondary: #1a1a1a;
        --accent: #4a90e2;
        --accent-hover: #3b82f6;
        --border: #2a2a2a;
        --muted: #a1a1aa;
        --danger: #f87171;
        --radius: 8px;
        --shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
        --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
        --font-mono: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        --section-spacing: 3rem;
        --compact-spacing: 1.5rem;
        --transition: all 0.3s ease;
      }

      * {
        box-sizing: border-box;
      }

      body {
        font-family: var(--font-sans);
        line-height: 1.6;
        color: var(--text);
        background-color: var(--bg);
      }

      main {
        max-width: 800px;
        margin: 0 auto;
        padding: 1rem;
      }

      h1,
      h2 {
        margin: 0 0 1rem;
        color: var(--text);
      }

      h1 {
        font-size: 1.8rem;
      }
      h2 {
        font-size: 1.4rem;
      }

      .table-wrapper {
        overflow-x: auto;
        margin-bottom: 1rem;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        font-size: 0.95rem;
        min-width: 600px;
      }

      .grade-scale {
        margin: 1.5rem auto 0;
        font-size: 0.85rem;
        border: 1px solid var(--border);
        border-radius: var(--radius);
        width: fit-content;
        background: var(--bg-secondary);
      }

      .grade-scale th,
      .grade-scale td {
        padding: 0.4rem 0.75rem;
        white-space: nowrap;
      }

      .grade-scale th:first-child,
      .grade-scale td:first-child {
        text-align: left;
      }

      .grade-scale th:last-child,
      .grade-scale td:last-child {
        text-align: right;
        font-family: var(--font-mono);
      }

      th,
      td {
        padding: 0.5rem;
        border-bottom: 1px solid var(--border);
        text-align: left;
      }

      th {
        background: var(--bg-secondary);
        font-weight: 600;
      }

      input,
      select {
        width: 100%;
        padding: 0.5rem;
        border: 1px solid var(--border);
        border-radius: 4px;
        font-family: var(--font-sans);
        background: var(--bg-secondary);
        color: var(--text);
      }

      select {
        appearance: none;
      }

      .actions {
        display: flex;
        gap: 0.5rem;
        margin: 1rem 0;
        flex-wrap: wrap;
      }

      button {
        padding: 0.5rem 1rem;
        background: var(--bg-secondary);
        border: 1px solid var(--border);
        border-radius: var(--radius);
        cursor: pointer;
        font-family: var(--font-sans);
        color: var(--text);
      }

      button.primary {
        background: var(--accent);
        color: #fff;
        border-color: var(--accent);
      }

      button:hover {
        filter: brightness(1.1);
      }

      .result {
        background: var(--bg-secondary);
        border-radius: var(--radius);
        padding: 1rem;
        margin: 1rem 0;
        display: none;
        text-align: center;
      }

      .result.show {
        display: block;
      }

      .result .highlight {
        color: var(--accent);
        font-weight: 600;
        font-family: var(--font-mono);
      }

      .delete-btn {
        color: #fff;
        background: none;
        border: none;
        cursor: pointer;
        padding: 0.25rem;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: color 0.2s ease;
      }

      .delete-btn svg {
        width: 16px;
        height: 16px;
        fill: currentColor;
        transition: color 0.2s ease, fill 0.2s ease;
      }

      .delete-btn:hover {
        color: var(--danger);
      }

      h1,
      h2,
      main > p {
        text-align: center;
      }

      .actions {
        justify-content: center;
      }

      .result {
        text-align: center;
        margin-left: auto;
        margin-right: auto;
        max-width: 400px;
      }

      .gpa-table select,
      .gpa-table td select,
      .gpa-table td div,
      .grade-scale td:last-child,
      .grade-scale th:last-child,
      .result,
      .result p,
      .result strong {
        font-family: var(--font-mono);
      }

      .note {
        font-size: 0.8rem;
        color: var(--muted);
        text-align: center;
        margin-top: -0.5rem;
        margin-bottom: 1rem;
      }

      .subtitle {
        font-size: 1rem;
        color: var(--muted);
        text-align: center;
        margin-top: -0.5rem;
        margin-bottom: 2rem;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
      }

      @media (max-width: 640px) {
        table {
          min-width: 100%;
        }

        .gpa-table thead {
          display: none;
        }

        .gpa-table tr {
          display: flex;
          flex-direction: column;
          margin-bottom: 1rem;
          border: 1px solid var(--border);
          border-radius: var(--radius);
          padding: 1rem;
        }

        .gpa-table td {
          display: flex;
          justify-content: space-between;
          border: none;
          padding: 0.3rem 0;
        }

        .gpa-table td::before {
          content: attr(data-label);
          color: var(--muted);
          margin-right: 1rem;
        }

        .actions {
          flex-direction: column;
        }

        button {
          width: 100%;
        }
      }
    </style>
  </head>
  <body>
    <main>
      <h1>GPA Calculator</h1>
      <p class="subtitle">
        Enter your courses, select grades and credit hours, then calculate your
        GPA instantly.
      </p>
      <form id="gpa-form">
        <div class="table-wrapper">
          <table class="gpa-table">
            <thead>
              <tr>
                <th>Course</th>
                <th>Credits</th>
                <th>Grade</th>
                <th>Grade Points</th>
                <th></th>
              </tr>
            </thead>
            <tbody id="courses"></tbody>
          </table>
        </div>

        <div class="actions">
          <button type="submit" class="primary">Calculate GPA</button>
          <button type="button" id="add-course">Add Course</button>
          <button type="button" id="clear-courses">Clear</button>
        </div>
      </form>

      <div id="result" class="result"></div>

      <h2>Grade to GPA Conversion Scale</h2>
      <p class="note">
        The following table was used in the calculation and follows UET's
        official grading policy.
      </p>
      <table class="grade-scale">
        <thead>
          <tr>
            <th>Grade</th>
            <th>Grade Points</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>A+</td>
            <td>4.0</td>
          </tr>
          <tr>
            <td>A</td>
            <td>4.0</td>
          </tr>
          <tr>
            <td>A−</td>
            <td>3.7</td>
          </tr>
          <tr>
            <td>B+</td>
            <td>3.3</td>
          </tr>
          <tr>
            <td>B</td>
            <td>3.0</td>
          </tr>
          <tr>
            <td>B−</td>
            <td>2.7</td>
          </tr>
          <tr>
            <td>C+</td>
            <td>2.3</td>
          </tr>
          <tr>
            <td>C</td>
            <td>2.0</td>
          </tr>
          <tr>
            <td>C−</td>
            <td>1.7</td>
          </tr>
          <tr>
            <td>D+</td>
            <td>1.3</td>
          </tr>
          <tr>
            <td>D</td>
            <td>1.0</td>
          </tr>
          <tr>
            <td>F</td>
            <td>0.0</td>
          </tr>
        </tbody>
      </table>
    </main>

    <script>
      const courseList = [
        { name: "Functional English", credit: 3 },
        { name: "Calculus and Analytic Geometry", credit: 3 },
        { name: "Discrete Mathematics", credit: 2 },
        { name: "Applications of ICT", credit: 2 },
        { name: "Applications of ICT Lab", credit: 1 },
        { name: "Programming Fundamentals", credit: 3 },
        { name: "Programming Fundamentals Lab", credit: 1 },
        { name: "Islamic Studies", credit: 3 },
      ];

      const gradeOptions = [
        { grade: "A+", gp: 4 },
        { grade: "A", gp: 4 },
        { grade: "A-", gp: 3.7 },
        { grade: "B+", gp: 3.3 },
        { grade: "B", gp: 3 },
        { grade: "B-", gp: 2.7 },
        { grade: "C+", gp: 2.3 },
        { grade: "C", gp: 2 },
        { grade: "C-", gp: 1.7 },
        { grade: "D+", gp: 1.3 },
        { grade: "D", gp: 1 },
        { grade: "F", gp: 0 },
      ];

      function getGpaRemark(gpa) {
        if (gpa >= 3.7) return "Excellent";
        if (gpa >= 3.3) return "Very Good";
        if (gpa >= 2.7) return "Good";
        if (gpa >= 2.0) return "Satisfactory";
        return "There's room for improvement. Keep going!";
      }

      function createCourseRow(data = {}) {
        const tr = document.createElement("tr");

        const tdName = document.createElement("td");
        tdName.setAttribute("data-label", "Course");
        const inputName = document.createElement("input");
        inputName.type = "text";
        inputName.placeholder = "Course Name";
        inputName.required = true;
        inputName.value = data.name || "";
        tdName.appendChild(inputName);

        const tdCredit = document.createElement("td");
        tdCredit.setAttribute("data-label", "Credits");
        const selectCredit = document.createElement("select");
        selectCredit.innerHTML =
          '<option value="">Select</option>' +
          [1, 2, 3, 4]
            .map(
              (val) =>
                `<option value="${val}" ${
                  data.credit === val ? "selected" : ""
                }>${val}</option>`
            )
            .join("");
        tdCredit.appendChild(selectCredit);

        const tdGrade = document.createElement("td");
        tdGrade.setAttribute("data-label", "Grade");
        const selectGrade = document.createElement("select");
        selectGrade.innerHTML =
          '<option value="">Select</option>' +
          gradeOptions
            .map(
              (g) =>
                `<option value="${g.gp}" ${
                  data.grade === g.gp ? "selected" : ""
                }>${g.grade}</option>`
            )
            .join("");
        tdGrade.appendChild(selectGrade);

        const tdGP = document.createElement("td");
        tdGP.setAttribute("data-label", "Grade Points");
        const resultDiv = document.createElement("div");
        tdGP.appendChild(resultDiv);

        const tdDelete = document.createElement("td");
        const deleteBtn = document.createElement("button");
        deleteBtn.type = "button";
        deleteBtn.className = "delete-btn";
        deleteBtn.innerHTML = `
  <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 24 24">
<path d="M 10.806641 2 C 10.289641 2 9.7956875 2.2043125 9.4296875 2.5703125 L 9 3 L 4 3 A 1.0001 1.0001 0 1 0 4 5 L 20 5 A 1.0001 1.0001 0 1 0 20 3 L 15 3 L 14.570312 2.5703125 C 14.205312 2.2043125 13.710359 2 13.193359 2 L 10.806641 2 z M 4.3652344 7 L 5.8925781 20.263672 C 6.0245781 21.253672 6.877 22 7.875 22 L 16.123047 22 C 17.121047 22 17.974422 21.254859 18.107422 20.255859 L 19.634766 7 L 4.3652344 7 z"></path>
</svg>
`;
        deleteBtn.addEventListener("click", () => tr.remove());
        tdDelete.appendChild(deleteBtn);

        function updateResult() {
          const credit = parseFloat(selectCredit.value);
          const gradePoint = parseFloat(selectGrade.value);
          resultDiv.textContent =
            !isNaN(credit) && !isNaN(gradePoint)
              ? `${gradePoint} × ${credit} = ${(gradePoint * credit).toFixed(
                  2
                )}`
              : "";
        }

        selectCredit.addEventListener("change", updateResult);
        selectGrade.addEventListener("change", updateResult);

        tr.append(tdName, tdCredit, tdGrade, tdGP, tdDelete);
        document.getElementById("courses").appendChild(tr);
        return tr;
      }

      document.getElementById("add-course").addEventListener("click", () => {
        const row = createCourseRow();
        row.querySelector("input").focus();
      });

      document.getElementById("clear-courses").addEventListener("click", () => {
        document.getElementById("courses").innerHTML = "";
        document.getElementById("result").classList.remove("show");
      });

      document
        .getElementById("gpa-form")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const rows = document.querySelectorAll("#courses tr");
          let totalPoints = 0;
          let totalCredits = 0;

          rows.forEach((row) => {
            const credit = parseFloat(row.querySelector("select").value);
            const grade = parseFloat(row.querySelectorAll("select")[1].value);
            if (!isNaN(credit) && !isNaN(grade)) {
              totalCredits += credit;
              totalPoints += grade * credit;
            }
          });

          const gpa = totalCredits ? totalPoints / totalCredits : 0;
          const resultBox = document.getElementById("result");

          if (totalCredits === 0) {
            resultBox.classList.remove("show");
            return;
          }

          resultBox.innerHTML = `
  <p><strong>Your GPA is <span class="highlight">${gpa.toFixed(
    2
  )}</span></strong></p>
  <p><strong>Remark:</strong> ${getGpaRemark(gpa)}</p>
  <p>Total Points: <span class="highlight">${totalPoints.toFixed(2)}</span></p>
  <p>Total Credits: <span class="highlight">${totalCredits.toFixed(
    2
  )}</span></p>
`;
          resultBox.classList.add("show");
          resultBox.scrollIntoView({ behavior: "smooth", block: "nearest" });
        });

      // Load default courses
      courseList.forEach(createCourseRow);
    </script>
  </body>
</html>
