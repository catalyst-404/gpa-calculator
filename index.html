<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GPA Calculator</title>
    <link rel="icon" type="image/png" href="favicon.png" />
    <meta
      name="description"
      content="A fast, accessible and responsive GPA calculator built with a custom university grading scale. Designed for performance and usability with keyboard navigation and mobile support."
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }

      :root {
        --bg: #0d0d0d;
        --bg-secondary: #151515;
        --bg-tertiary: #1a1a1a;
        --text: #ffffff;
        --text-secondary: #dddddd;
        --muted: #aaaaaa;
        --accent: #66b3ff;
        --accent-hover: #3399ff;
        --accent-dark: #1e60a8;
        --border: #2a2a2a;
        --danger: #ff6b6b;
        --success: #00c27e;
        --radius: 8px;
        --transition: all 0.2s ease;
      }

      body {
        background: var(--bg);
        color: var(--text);
        line-height: 1.6;
        padding: 2rem 1rem;
        min-height: 100vh;
      }

      .container {
        max-width: 900px;
        width: 100%;
        margin: 0 auto;
      }

      header {
        text-align: center;
        margin-bottom: 2.5rem;
        padding: 1rem;
      }

      h1 {
        font-size: 2.5rem;
        margin-bottom: 0.5rem;
        font-weight: 600;
        color: var(--accent);
      }

      .subtitle {
        font-size: 1.1rem;
        color: var(--text-secondary);
        max-width: 600px;
        margin: 0 auto;
      }

      .card {
        background: var(--bg-secondary);
        border-radius: var(--radius);
        overflow: hidden;
        margin-bottom: 2rem;
        border: 1px solid var(--border);
        transition: box-shadow 0.3s ease;
      }

      .card:hover {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
      }

      .card-header {
        padding: 1.5rem;
        border-bottom: 1px solid var(--border);
        background: var(--bg-tertiary);
      }

      .card-title {
        font-size: 1.4rem;
        color: var(--accent);
        font-weight: 600;
      }

      .card-body {
        padding: 1.5rem;
      }

      .table-container {
        overflow-x: auto;
        margin-bottom: 1.5rem;
        border-radius: var(--radius);
        border: 1px solid var(--border);
      }

      table {
        width: 100%;
        border-collapse: collapse;
        font-size: 1rem;
        min-width: 600px;
      }

      thead {
        background: var(--bg-tertiary);
      }

      th {
        padding: 1rem;
        text-align: left;
        font-weight: 600;
        color: var(--text-secondary);
        border-bottom: 1px solid var(--border);
      }

      td {
        padding: 0.75rem 1rem;
        border-bottom: 1px solid var(--border);
      }

      tr:last-child td {
        border-bottom: none;
      }

      label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 500;
        color: var(--text-secondary);
      }

      input,
      select {
        width: 100%;
        padding: 0.75rem;
        background: var(--bg-tertiary);
        border: 1px solid var(--border);
        border-radius: 6px;
        color: var(--text);
        font-size: 1rem;
        transition: var(--transition);
      }

      input:focus,
      select:focus {
        outline: 2px solid var(--accent);
        outline-offset: -1px;
        border-color: var(--accent);
      }

      input::placeholder {
        color: var(--muted);
      }

      .btn {
        padding: 0.75rem 1.5rem;
        border-radius: 6px;
        border: none;
        font-weight: 600;
        font-size: 1rem;
        cursor: pointer;
        transition: var(--transition);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
      }

      .btn-primary {
        background: var(--accent-dark);
        color: white;
      }

      .btn-primary:hover {
        background: var(--accent-hover);
      }

      .btn-secondary {
        background: #252525;
        color: var(--text);
      }

      .btn-secondary:hover {
        background: #303030;
      }

      .btn-danger {
        background: rgba(232, 98, 98, 0.15);
        color: var(--danger);
      }

      .btn-danger:hover {
        background: rgba(232, 98, 98, 0.25);
      }

      .btn-group {
        display: flex;
        gap: 1rem;
        margin-top: 1.5rem;
        flex-wrap: wrap;
      }

      .result-card {
        background: var(--bg-tertiary);
        border-radius: var(--radius);
        padding: 1.5rem;
        text-align: center;
        margin-top: 1.5rem;
        display: none;
        border: 1px solid var(--border);
      }

      .result-card.show {
        display: block;
        animation: fadeIn 0.3s ease;
      }

      .gpa-value {
        font-size: 3rem;
        font-weight: 700;
        color: var(--accent);
        margin: 1rem 0;
      }

      .result-remark {
        font-size: 1.2rem;
        margin: 1rem 0;
        color: var(--text-secondary);
        font-weight: 500;
      }

      .result-details {
        display: flex;
        justify-content: center;
        gap: 2rem;
        margin-top: 1.5rem;
        flex-wrap: wrap;
      }

      .result-detail {
        padding: 1rem;
        min-width: 150px;
        background: var(--bg-secondary);
        border-radius: var(--radius);
        border: 1px solid var(--border);
      }

      .result-label {
        font-size: 0.9rem;
        color: var(--text-secondary);
        margin-bottom: 0.5rem;
        font-weight: 500;
      }

      .result-number {
        font-size: 1.4rem;
        font-weight: 700;
        font-family: monospace;
        color: var(--accent);
      }

      .grade-scale {
        margin-top: 1rem;
      }

      .scale-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
        gap: 0.75rem;
        margin-top: 1rem;
      }

      .scale-item {
        background: var(--bg-tertiary);
        border-radius: var(--radius);
        padding: 1rem;
        text-align: center;
        border: 1px solid var(--border);
        transition: transform 0.2s ease;
      }

      .scale-item:hover {
        transform: translateY(-3px);
      }

      .scale-grade {
        font-weight: 700;
        margin-bottom: 0.5rem;
        font-size: 1.1rem;
        color: var(--text);
      }

      .scale-points {
        color: var(--accent);
        font-family: monospace;
        font-size: 1.1rem;
        font-weight: 600;
      }

      .delete-btn {
        background: none;
        color: var(--text-secondary);
        border: none;
        width: 36px;
        height: 36px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: var(--transition);
      }

      .delete-btn:hover {
        background: rgba(232, 98, 98, 0.15);
        color: var(--danger);
      }

      .delete-icon {
        width: 16px;
        height: 16px;
        fill: currentColor;
      }

      .note {
        font-size: 1rem;
        color: var(--muted);
        text-align: center;
        margin: 1rem auto 1.5rem;
        padding: 0.5rem 1rem;
        max-width: 600px;
      }

      .warning {
        color: var(--danger);
        background: rgba(232, 98, 98, 0.1);
        padding: 1rem;
        border-radius: var(--radius);
        margin: 1rem 0;
        display: none;
        text-align: center;
        border: 1px solid rgba(232, 98, 98, 0.3);
        font-weight: 500;
      }

      .warning.show {
        display: block;
      }

      /* Animations */
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      /* Focus styles for accessibility */
      *:focus-visible {
        outline: 2px solid var(--accent);
        outline-offset: 2px;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        body {
          padding: 1.5rem 1rem;
        }

        .card-body {
          padding: 1.25rem;
        }

        table {
          min-width: 100%;
        }

        thead {
          display: none;
        }

        tr {
          display: flex;
          flex-direction: column;
          padding: 1.5rem;
          border-bottom: 1px solid var(--border);
          gap: 0.75rem;
        }

        tr:last-child {
          border-bottom: none;
        }

        td {
          display: flex;
          flex-direction: column;
          padding: 0.5rem 0;
          border: none;
        }

        td::before {
          content: attr(data-label);
          font-weight: 600;
          margin-bottom: 0.25rem;
          color: var(--text);
          font-size: 0.9rem;
          opacity: 0.8;
        }

        .btn-group {
          flex-direction: column;
          gap: 0.75rem;
        }

        .btn {
          width: 100%;
        }

        .result-details {
          flex-direction: column;
          gap: 1rem;
          align-items: center;
        }

        .gpa-value {
          font-size: 2.5rem;
        }

        .result-remark {
          font-size: 1.1rem;
        }

        .scale-grid {
          grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
        }
      }

      @media (max-width: 480px) {
        h1 {
          font-size: 2rem;
        }

        .subtitle {
          font-size: 1rem;
        }

        .card-header {
          padding: 1.25rem;
        }

        .scale-grid {
          grid-template-columns: repeat(auto-fill, minmax(85px, 1fr));
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>GPA Calculator</h1>
        <p class="subtitle">
          Fast and simple GPA calculator built using my university’s grading
          policy. Add courses, select grades and credits, done.
        </p>
      </header>

      <div class="card">
        <div class="card-header">
          <h2 class="card-title">Course Information</h2>
        </div>

        <div class="card-body">
          <form id="gpa-form">
            <div
              class="warning"
              id="warning"
              role="alert"
              aria-live="assertive"
            >
              Please add at least one course with valid grade and credit hours
            </div>

            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th>Course Name</th>
                    <th>Credits</th>
                    <th>Grade</th>
                    <th>Grade Points</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody id="courses">
                  <!-- Courses will be added dynamically -->
                </tbody>
              </table>
            </div>

            <div class="btn-group">
              <button type="submit" class="btn btn-primary">
                <svg
                  class="calc-icon"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M18,2H6C4.895,2,4,2.895,4,4v16c0,1.105,0.895,2,2,2h12c1.105,0,2-0.895,2-2V4C20,2.895,19.105,2,18,2z M17,8H7 C6.448,8,6,7.552,6,7V5c0-0.552,0.448-1,1-1h10c0.552,0,1,0.448,1,1v2C18,7.552,17.552,8,17,8z M16,20h-4c-0.552,0-1-0.448-1-1v0 c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1v0C17,19.552,16.552,20,16,20z M9,19c0,0.552-0.448,1-1,1s-1-0.448-1-1s0.448-1,1-1 S9,18.448,9,19z M9,15c0,0.552-0.448,1-1,1s-1-0.448-1-1s0.448-1,1-1S9,14.448,9,15z M9,11c0,0.552-0.448,1-1,1s-1-0.448-1-1 s0.448-1,1-1S9,10.448,9,11z M13,15c0,0.552-0.448,1-1,1s-1-0.448-1-1s0.448-1,1-1S13,14.448,13,15z M13,11c0,0.552-0.448,1-1,1 s-1-0.448-1-1s0.448-1,1-1S13,10.448,13,11z M17,15c0,0.552-0.448,1-1,1c-0.552,0-1-0.448-1-1s0.448-1,1-1 C16.552,14,17,14.448,17,15z M17,11c0,0.552-0.448,1-1,1c-0.552,0-1-0.448-1-1s0.448-1,1-1C16.552,10,17,10.448,17,11z"
                  ></path>
                </svg>
                Calculate GPA
              </button>
              <button type="button" id="add-course" class="btn btn-secondary">
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M20,11h-7V4c0-0.552-0.448-1-1-1s-1,0.448-1,1v7H4c-0.552,0-1,0.448-1,1s0.448,1,1,1h7v7c0,0.552,0.448,1,1,1s1-0.448,1-1 v-7h7c0.552,0,1-0.448,1-1S20.552,11,20,11z"
                  ></path>
                </svg>
                Add Course
              </button>
              <button type="button" id="clear-courses" class="btn btn-danger">
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M 10.806641 2 C 10.289641 2 9.7956875 2.2043125 9.4296875 2.5703125 L 9 3 L 4 3 A 1.0001 1.0001 0 1 0 4 5 L 20 5 A 1.0001 1.0001 0 1 0 20 3 L 15 3 L 14.570312 2.5703125 C 14.205312 2.2043125 13.710359 2 13.193359 2 L 10.806641 2 z M 4.3652344 7 L 5.8925781 20.263672 C 6.0245781 21.253672 6.877 22 7.875 22 L 16.123047 22 C 17.121047 22 17.974422 21.254859 18.107422 20.255859 L 19.634766 7 L 4.3652344 7 z"
                  ></path>
                </svg>
                Clear All
              </button>
            </div>
          </form>

          <div id="result" class="result-card" role="alert" aria-live="polite">
            <h3>Your GPA Result</h3>
            <div class="gpa-value">0.00</div>
            <div class="result-remark">Enter your grades to calculate</div>

            <div class="result-details">
              <div class="result-detail">
                <div class="result-label">Total Points</div>
                <div class="result-number">0.00</div>
              </div>
              <div class="result-detail">
                <div class="result-label">Total Credits</div>
                <div class="result-number">0</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h2 class="card-title">Grading Scale</h2>
        </div>
        <div class="card-body">
          <p class="note">
            This table shows my university’s official grading policy used for
            GPA calculations.
          </p>

          <div class="grade-scale">
            <div class="scale-grid">
              <div class="scale-item">
                <div class="scale-grade">A+</div>
                <div class="scale-points">4.0</div>
              </div>
              <div class="scale-item">
                <div class="scale-grade">A</div>
                <div class="scale-points">4.0</div>
              </div>
              <div class="scale-item">
                <div class="scale-grade">A−</div>
                <div class="scale-points">3.7</div>
              </div>
              <div class="scale-item">
                <div class="scale-grade">B+</div>
                <div class="scale-points">3.3</div>
              </div>
              <div class="scale-item">
                <div class="scale-grade">B</div>
                <div class="scale-points">3.0</div>
              </div>
              <div class="scale-item">
                <div class="scale-grade">B−</div>
                <div class="scale-points">2.7</div>
              </div>
              <div class="scale-item">
                <div class="scale-grade">C+</div>
                <div class="scale-points">2.3</div>
              </div>
              <div class="scale-item">
                <div class="scale-grade">C</div>
                <div class="scale-points">2.0</div>
              </div>
              <div class="scale-item">
                <div class="scale-grade">C−</div>
                <div class="scale-points">1.7</div>
              </div>
              <div class="scale-item">
                <div class="scale-grade">D+</div>
                <div class="scale-points">1.3</div>
              </div>
              <div class="scale-item">
                <div class="scale-grade">D</div>
                <div class="scale-points">1.0</div>
              </div>
              <div class="scale-item">
                <div class="scale-grade">F</div>
                <div class="scale-points">0.0</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      const courseList = [
        { name: "Programming Fundamentals", credit: 3, grade: "A" },
        { name: "Discrete Mathematics", credit: 2, grade: "B+" },
        {}, // empty row
      ];

      const gradeOptions = [
        { grade: "A+", gp: 4 },
        { grade: "A", gp: 4 },
        { grade: "A-", gp: 3.7 },
        { grade: "B+", gp: 3.3 },
        { grade: "B", gp: 3 },
        { grade: "B-", gp: 2.7 },
        { grade: "C+", gp: 2.3 },
        { grade: "C", gp: 2 },
        { grade: "C-", gp: 1.7 },
        { grade: "D+", gp: 1.3 },
        { grade: "D", gp: 1 },
        { grade: "F", gp: 0 },
      ];

      function getGpaRemark(gpa) {
        if (gpa >= 3.7) return "Excellent! Keep up the great work!";
        if (gpa >= 3.3) return "Very Good! You're doing great!";
        if (gpa >= 2.7) return "Good! Solid performance.";
        if (gpa >= 2.0) return "Satisfactory. Room for improvement.";
        return "There's room for improvement. Keep going!";
      }

      function createCourseRow(data = {}) {
        const tr = document.createElement("tr");
        const rowId = `row-${Date.now()}-${Math.random()
          .toString(36)
          .substr(2, 5)}`;
        tr.id = rowId;

        // Course Name
        const tdName = document.createElement("td");
        tdName.setAttribute("data-label", "Course Name");

        const inputName = document.createElement("input");
        inputName.type = "text";
        inputName.id = `${rowId}-name`;
        inputName.placeholder = "Enter course name (optional)";
        inputName.value = data.name || "";
        inputName.setAttribute("aria-label", "Course name");

        tdName.appendChild(inputName);

        // Credits
        const tdCredit = document.createElement("td");
        tdCredit.setAttribute("data-label", "Credits");

        const selectCredit = document.createElement("select");
        selectCredit.id = `${rowId}-credit`;
        selectCredit.setAttribute("aria-label", "Credit hours");
        selectCredit.innerHTML =
          '<option value="">Select credits</option>' +
          [1, 2, 3, 4]
            .map(
              (val) =>
                `<option value="${val}" ${
                  data.credit === val ? "selected" : ""
                }>${val}</option>`
            )
            .join("");

        tdCredit.appendChild(selectCredit);

        // Grade
        const tdGrade = document.createElement("td");
        tdGrade.setAttribute("data-label", "Grade");

        const selectGrade = document.createElement("select");
        selectGrade.id = `${rowId}-grade`;
        selectGrade.setAttribute("aria-label", "Grade");
        selectGrade.innerHTML =
          '<option value="">Select grade</option>' +
          gradeOptions
            .map(
              (g) =>
                `<option value="${g.gp}" ${
                  data.grade === g.grade ? "selected" : ""
                }>${g.grade}</option>`
            )
            .join("");

        tdGrade.appendChild(selectGrade);

        // Grade Points
        const tdGP = document.createElement("td");
        tdGP.setAttribute("data-label", "Grade Points");
        const resultDiv = document.createElement("div");
        resultDiv.className = "grade-points-display";
        resultDiv.textContent = "—";
        resultDiv.setAttribute("aria-live", "polite");
        tdGP.appendChild(resultDiv);

        // Delete Button with SVG
        const tdDelete = document.createElement("td");
        const deleteBtn = document.createElement("button");
        deleteBtn.type = "button";
        deleteBtn.className = "delete-btn";
        deleteBtn.setAttribute("aria-label", "Delete course");
        deleteBtn.innerHTML = `
          <svg class="delete-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M 10.806641 2 C 10.289641 2 9.7956875 2.2043125 9.4296875 2.5703125 L 9 3 L 4 3 A 1.0001 1.0001 0 1 0 4 5 L 20 5 A 1.0001 1.0001 0 1 0 20 3 L 15 3 L 14.570312 2.5703125 C 14.205312 2.2043125 13.710359 2 13.193359 2 L 10.806641 2 z M 4.3652344 7 L 5.8925781 20.263672 C 6.0245781 21.253672 6.877 22 7.875 22 L 16.123047 22 C 17.121047 22 17.974422 21.254859 18.107422 20.255859 L 19.634766 7 L 4.3652344 7 z"
                  ></path>
          </svg>
        `;
        deleteBtn.addEventListener("click", () => {
          tr.remove();
          document.getElementById("result").classList.remove("show");
        });
        tdDelete.appendChild(deleteBtn);

        // Update grade points display
        function updateResult() {
          const credit = parseFloat(selectCredit.value);
          const gradePoint = parseFloat(selectGrade.value);

          resultDiv.textContent =
            !isNaN(credit) && !isNaN(gradePoint)
              ? `${gradePoint} × ${credit} = ${(gradePoint * credit).toFixed(
                  2
                )}`
              : "—";
        }

        selectCredit.addEventListener("change", updateResult);
        selectGrade.addEventListener("change", updateResult);

        // Keyboard navigation
        inputName.addEventListener("keydown", (e) => {
          if (e.key === "Enter") {
            e.preventDefault();
            selectCredit.focus();
          }
        });

        selectCredit.addEventListener("keydown", (e) => {
          if (e.key === "Enter") {
            e.preventDefault();
            selectGrade.focus();
          }
        });

        selectGrade.addEventListener("keydown", (e) => {
          if (e.key === "Enter") {
            e.preventDefault();
            document.getElementById("add-course").click();
          }
        });

        tr.append(tdName, tdCredit, tdGrade, tdGP, tdDelete);
        document.getElementById("courses").appendChild(tr);

        // Initialize display
        updateResult();

        return tr;
      }

      document.getElementById("add-course").addEventListener("click", () => {
        const row = createCourseRow();
        row.querySelector("input").focus();
      });

      document.getElementById("clear-courses").addEventListener("click", () => {
        const coursesBody = document.getElementById("courses");
        coursesBody.innerHTML = ""; // remove all rows

        // hide any results or warnings
        document.getElementById("result").classList.remove("show");
        document.getElementById("warning").classList.remove("show");

        // add one empty row so the user can start typing right away
        createCourseRow({});
      });
      document
        .getElementById("gpa-form")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const rows = document.querySelectorAll("#courses tr");
          let totalPoints = 0;
          let totalCredits = 0;
          let validEntries = 0;

          rows.forEach((row) => {
            const credit = parseFloat(row.querySelector("select").value);
            const grade = parseFloat(row.querySelectorAll("select")[1].value);

            if (!isNaN(credit) && !isNaN(grade)) {
              totalCredits += credit;
              totalPoints += grade * credit;
              validEntries++;
            }
          });

          const gpa = totalCredits ? totalPoints / totalCredits : 0;
          const resultBox = document.getElementById("result");
          const warning = document.getElementById("warning");

          if (validEntries === 0) {
            resultBox.classList.remove("show");
            warning.classList.add("show");
            warning.focus();
            return;
          }

          warning.classList.remove("show");

          // Cache DOM elements for performance
          const gpaValue = resultBox.querySelector(".gpa-value");
          const resultRemark = resultBox.querySelector(".result-remark");
          const resultNumbers = resultBox.querySelectorAll(".result-number");

          gpaValue.textContent = gpa.toFixed(2);
          resultRemark.textContent = getGpaRemark(gpa);
          resultNumbers[0].textContent = totalPoints.toFixed(2);
          resultNumbers[1].textContent = totalCredits.toFixed(1);

          resultBox.classList.add("show");
          resultBox.scrollIntoView({ behavior: "smooth", block: "nearest" });
        });

      // Load default courses with pre-selected credits and grades
      courseList.forEach((course) => createCourseRow(course));
    </script>
  </body>
</html>
